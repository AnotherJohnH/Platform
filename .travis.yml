
dist: xenial
sudo: required
language: cpp

addons:
  apt:
    packages:
      - libsdl2-dev

before_install:
   - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install sdl2; fi

os:
   - linux
   - osx

compiler:
   - clang
   - gcc

matrix:
   exclude:
   - os: linux
     compiler: clang
   - os: osx
     compiler: gcc

script:
   - mkdir build
   - cd build
   - cmake ..
   - make package

deploy:
   provider: releases
   api_key:
      secure: "TQvUYzXGXYlLnIjJ+qcvYsXfxaZxUqCTGoaaJBvbGwpJC2jlkPobxZ2bPaPStv2b23lWcX52XBhupONJMBSW3gTYZl1nrCSJBNv4Te+4iJaPrNKfGuhKH99GbWum/W1I5uksG0INJbPhASpw1AeIVhMiUei0vcZrWMw5GMETVbV9Sex5AARJTK4mbopsBgFN/tgaiLG2gKPeTMwcjiQkhhiZRerf+N6ZQDToEZfJsSAONR/+JS8JFm+1FG0coXgWADKoXqDGkmrwyKnZduozPpaiqNr55b38QUFeToeGuZZ+GFtIJbv2L933T7j409z1s3BQd5zYsghhs2ThSGCMFgijhq2ASeMQazqqRDeyHFN0BQ4nybWn0THLCVQCYCIsJqUAHXZ6DZKQJ0FYgYwInBwEwdYMmdlJHmSKTEb2BPLmw6Ssrug0qmdEqjWGRwV3r8wB83zvUij4B/T5efYpv6U8NhGbUEh+wWt+hzYCiB1KQqGRFJvNgKVAAma0pnfdl0G9LgxKRhyCCC/QCabXPEJhvC7uwudXOIA2d2izcYry7PjDGGXzTW1p8PLi3RsrNiovSaSSk+rD7exvA55Zy8sMN2Qr99qOyZeCvMeDKasMCWGQ6/icDX/q3zhQaxfMboZmZWaGyCigHgtpdS7FnPJBSzdDHwQEMbO68GMki2U="
   file_glob: true
   file: "*.tar.gz"
   overwrite: true
   skip_cleanup: true
   on:
      tags: true
